---
# required metadata

title: Modules overview
description: This topic provides an overview of module development in Microsoft Dynamics 365 Commerce including best practices for when and how to extend a module's style or features.
author: samjarawan
manager: annbe
ms.date: 09/18/2020
ms.topic: article
ms.prod: 
ms.service: dynamics-365-commerce
ms.technology: 

# optional metadata

# ms.search.form: 
audience: Developer
# ms.devlang: 
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: samjar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5

---
# Modules overview

[!include [banner](../includes/banner.md)]

This topic provides an overview of module development in Microsoft Dynamics 365 Commerce including best practices for when and how to extend a module's style or features.

## Modules in Dynamics 365 Commerce

In Dynamics 365 Commerce, modules represent the core building blocks that make up an online e-Commerce page. 

Here are some examples of modules used on e-Commerce site pages:

- A content block module that is featured on a page and shows a product image and description, together with a "call-to-action" button that can be used to purchase the product or get more information about it.
- A promo banner module that highlights a promotion as a banner on a page.
- A header module that is made up of smaller module components, such as a search module, a sign-in module, and a navigation module.
- A script module that injects JavaScript into the HTML on a page.

## Anatomy of a module

Modules are built using React components and are made up of various files, see the topics in the following list for an overview of each file type.

- [Module definition file](module-definition-file.md)
- [Module React component file](module-react-file.md)
- [Module view file](module-view-file.md)
- [Module data file](module-data-file.md)
- [Module mock file](module-mock-file.md)
- [Module test file](module-test-file.md)
- [Module props.autogenerated.ts file](module-props-autogenerated-ts-file.md)

For more information on how and when to use modules in Dynamics 365 Commerce, see [Work with modules](../work-with-modules.md).

## Get started with module development

The Commerce module library provides a broad set of modules for use on your online e-Commerce site, but you may have business requirements that will require some module or theme customization. Module and theme customization entails using the Dynamics 365 Commerce online software development kit (SDK) inside of a development environment.

To get started, you will need to install a set of tools and the online SDK. For step-by-step instructions on setting up a develop environment and creating your first custom module, see [Set up a development environment](setup-dev-environment.md).

## Module library modules

Dynamics 365 Commerce provides a module library of modules to use when building your online e-Commerce pages. These modules can be customized in various ways, including code-free style changes and code changes using the online SDK. For more information on the module library, see [Module library overview](../starter-kit-overview.md).

### Code-free style changes

Using Commerce site builder, the following code-free style changes can be made.

- [Style presets](../style-presets.md) allow a limited set of style changes for each module.
- [CSS overrides](../css-override-files.md) are used to override any module's Cascading Style Sheets (CSS).

### Configuration changes using the online SDK

Custom theme changes using the online SDK can be made to:

- [Modify the module CSS](../css-override-files.md) to change any of the modules' styling.
- [Extend a module's view](theme-module-extensions.md) to change the rendered HTML layout.
- [Extend a module's definition file](theme-module-extensions.md) to add or remove configuration fields, slots, data actions, or resources.
- [Override a module library component](override-theme-component.md) to change the component behavior.

Additional customization options include:

- [Data action overrides](data-action-overrides.md) that allow the customization of any built-in data action.
- [Cloning a module library kit module](clone-starter-module.md) to create a new copy of a module library module and allow you to change any part of it. This option is used for changes that can't be done with any of the other methods.
- [Creating a custom module](create-new-module.md) for when a custom solution is needed that the module library modules do not provide.

More details on which option is best for various requirements are provided in the following section.

## Pick the right module library module customization option

As listed above, there are many options available to customize a module library module. It is important to pick the right option for your needs.  

For example, if you choose to clone a module library module, you will be making a brand new copy of the module and will no longer get updates to the code if the module library module it was based on is updated in a future module library release. Since you would then need to update the cloned modules manually if required, cloning should only be used if absolutely necessary. 

The reference below should help you to pick the right solution for your requirements.

### Style changes

If you have a scenario where a module library module does everything you need but you want to change the module's look and feel, this can usually be done with CSS changes. CSS changes can allow you to hide unwanted elements in a module if desired. A site's [theme](theming.md) contains the CSS for all modules in Sassy Cascading Style Sheets (SCSS) files. In some cases you can make CSS changes that would not require any module or theme customizations directly in Commerce site builder. The first two options below do not require the use of the online SDK and are the easiest and fastest ways to make CSS changes to a module.

#### Style presets

A [style preset](../style-presets.md) is a stored set of all authorable style values across a site's theme. It can be used from within Commerce site builder to immediately change the look of a site. Style presets can be accessed in site builder by selecting the **Design** tab. Both global and module-specific styles can be modified. 

When making CSS changes to a module, the first thing to check is whether the changes can be implemented using the custom [style preset](../style-presets.md) option in site builder. Each module has style options that can be changed in the **Design \> Style presets** tab of site builder. This functionality allows simple changes for some CSS within a module including background color, text color, and text size.

> [NOTE]
> The site builder style preset option is only available starting with the 10.0.12 release of the module library and is limited to a specific set of options for each module library module.

One limitation of style presets is that style changes to a module type are global, meaning that any module changes made will be shown on all pages that use the edited module type. In other words, if you change the background color of a module, the color will be displayed on all site pages that use that module. If you only need to change the style of a module used on a single site page, you may want to consider using CSS overrides or adding new custom configurations to an existing module using module definition extensions.

If you are building custom modules, you can expose style presets for site authors to use. For more information, see [Configure theme style presets](theme-style-presets.md). 

The following image shows the style presets available for the **Promo banner** module. If the **Background** color is changed, when published the new color will be used for all instances of the module on the site.

![Style style presets available for the promo banner module](media/module-overview-1.png)

#### CSS override file

A [CSS override file](../css-override-files.md) can be uploaded using Commerce site builder. This file contains additional CSS coding to change any style on a page as needed.  When an e-Commerce page is rendered, the theme module CSS is applied first, and then the CSS overrides file is applied to override the specific theme CSS for that module. Since styles can be easily removed if not needed, this is a great option for fast experimentation against the live site.

In general, if you can use tools such as a modern browser's HTML/CSS debugging tools to modify a CSS to your liking, you can then copy those changes into a single CSS override file. 

For example, if you wanted to hide the wishlist icon in the header module, you would use a CSS override to hide the element since the module does not have a configuration setting to show or hide the wishlist icon. By using F12 web browser tools, you can find the CSS class name to use and experiment with the formatting until you get the look you want. The following example shows CSS code that hides the wishlist icon in a header module.

```CSS
a.msc-wishlist-icon.ms-header__wishlist-desktop.msc-btn {
    visibility: hidden;
}
```

The above CSS code can be saved in a text file and uploaded using site builder. For more information, see [Work with CSS override files](../css-override-files.md).

If you need to target a change to one or a few (but not all) instance(s) of module, you can add a custom CSS class name to the instance of the module from within site builder. After publishing the change, if you examine the HTML generated for the page instance you will see that the new class name is added to the HTML on the page.

The following image shows a header module in site builder after publishing with the **Custom CSS class name** setting highlighted.

![Header module in site builder with the "Custom CSS class name" setting highlighted](media/module-overview-2.png)

### Theme changes

If your CSS changes are more complex or if you want to make the changes permanent, the next level of customization is making changes to the site theme using the online SDK. A site theme uses SCSS files to contain all of the CSS coding that modules require. The "fabrikam" starter theme is provided by default for use on your online site, but it is generally advisable to create a new custom theme for your site. Creating a custom theme is easy and you can even clone the "fabrikam" theme to make a copy as a basis for your own theme.

If you are hosting multiple sites in a single Dynamics 365 Commerce instance, you can create as many themes as needed. You can even create a base theme that other themes inherit from to minimize common changes across themes. For more information, see [Extend a theme from a base theme](extend-theme.md).

Not only does a theme allow you to customize the module CSS, it also supports extending module views and definitions and overriding module library components.

#### Create a new theme

Creating a new theme for your site from scratch will give you a boiler plate theme that is empty and has no SCSS files for the module library module. For instructions on creating a new theme, see [Create a new theme](create-theme.md). If you want to create a new theme that uses module library styles as a starter, see the next section.

#### Clone the fabrikam theme

To clone the fabrikam theme as a starter for your own theme, follow the below steps:

1. Use the [CLI clone](cli-command-reference.md) command to create a copy of the fabrikam theme. For example, use ```yarn msdyn365 clone fabrikam MY_NEW_THEME``` where **MY_NEW_THEME** is the name of the new theme.
1. The clone command will make a copy of a module and put it under the **/src/modules** directory. A theme is just a special module that is stored under the **/src/themes** directory. You'll need to manually copy the new theme from the **src/modules** into the **src/themes** directory. If no **/themes** directory exists, you can manually create it first.
1. Within the theme directory you will find a file called **MY_NEW_THEME.definition.json**, where **MY_NEW_THEME** is the name provided with the clone command in step 1 above.  This file will list the metadata used in site builder, such as the theme friendly name and theme description.

#### Modify module CSS in a theme

Once you have a custom theme created, the SCSS can be modified as needed. Each module library module SCSS is stored under a theme's **/styles/04-modules** directory. There are many other SCSS files that can also be changed if needed, for example under the **//styles/00-settings** you'll find a **colors.scss** file which contains common color definitions.

Once a theme is created or modified using the online SDK, a configuration package can be build and uploaded via Microsoft Dynamics Lifecycle Services (LCS), for details see [Package configurations and deploy them to an online environment](package-deploy.md). Once a theme is deployed, the theme can be set for a site from within site builder. For more information, see [Select a site theme](../select-site-theme.md).

#### Extend a module's view in a theme

You may have a requirement that involves more than CSS changes alone, so you may need to change or alter the HTML in a module library module. Module library modules have been built with a separation of the React view file from the main component, allowing the view file to be overridden inside a theme.

For example, say you would like to reorder the HTML on the product details page (PDP) buy box module to have the product details appear above the price. While CSS changes alone might be able to achieve this, by extending the module view you could alter the page HTML while possibly gaining a more performant and responsive layout design.

Extending a module view can be achieved by overriding a module's view inside of a theme. Since these changes are scoped to a site theme, changing a site's theme can result in changing the complete look and feel of a module if desired. An advantage of changing a module view over cloning a module is that over time module library modules updates are still applied. For example, if and when a module library module's business logic is improved and updated, the view override will continue to work on the updated module library module code.

You can find examples of module theme extensions in the starter "fabrikam" theme. For more information on extending modules, see [Extend a theme to add module extensions](theme-module-extensions.md).  

#### Extend a module definition extension

Not only can you extend a module's view, but you can also extend a module library module definition to add or remove module configurations, slots, data actions, or resources.  You can then access these new configurations from within a module's view extension, so in general when you add a theme definition extension, you will also extend the module's view. For more information, see [Theme definitions extensions](theme-module-extensions.md).

For example, if a module library module has a configuration for a title string, you could add an additional sub-title string configuration to the module definition extension that can be set in site builder and rendered in the module's extended view.

### Override a module library component

The module library contains a set of helper component files that contain APIs that some modules use to render HTML or handle events that call server APIs. These components can be overridden and changed as needed. An example of such a component is the "price" component that renders the appropriate price including the markup for a price strike through if applicable. If you need the rendering of the price to change, you can override the specific component. For more information, see the [Override a module library component](override-theme-component.md).

## Data action overrides

[Data action overrides](data-action-overrides.md) allow the customization of any core data action. Data actions generally call server side APIs and can apply additional business logic if needed on the return data before a module uses it. By overriding a data action, a copy will be added to the **/src/action** directory, where you can then modify the code as desired. Once a data action is overridden, all modules that called the original data action will now call the new one. Note that data action overrides are global and not limited to a theme.  

## Clone a module library module

If you cannot achieve the desired changes to a module library module but would like to use it as a starter, you can [clone](clone-starter-module.md) a module. This may be needed in scenarios where you need to change module business logic that is not exposed in the module's view and a view override won't do what you need. Cloning will create a new module with a copy of the code from the module library module that was cloned and can then be changed as needed.  

Cloning should only be used a last resort since future updates to a module library module will not be picked up automatically by the cloned module. In this case you would need to decide if module library updates are needed in the cloned module, and if so manually add them. To do this after a module library module is updated, you can create a new clone then compare the code with your cloned module.  

For more information on getting module library updates, see [SDK and module library updates](sdk-updates.md).

## Create a custom module

If you need a feature that is not available in the module library set of modules, you can [create a custom module](create-new-module.md). Creating a custom module is easy and can be done using the [add-module CLI command](cli-command-reference.md). Similar to module library modules, SCSS files can be added to the site theme and different themes can optionally change the modules view with [module view extensions](theme-module-extensions.md), or the module definition can be extended as needed.

## Additional resources

[SDK and module library kit updates](sdk-updates.md)

[Set up a development environment](setup-dev-environment.md)

[Module library overview](../starter-kit-overview.md)

[CLI command reference](cli-command-reference.md)

[Work with style presets](../style-presets.md)

[Work with CSS override files](../css-override-files.md)

[Override a module library component in a theme](override-theme-component.md)

[Theming overview](theming.md)

[Create a new module](create-new-module.md)

[Data action overrides](data-action-overrides.md)


