---
# required metadata

title: Dynamics 365 Commerce online SDK FAQ
description: This topic summarizes answers to questions frequently asked by users of the Dynamics 365 Commerce online software development kit (SDK).
author: samjarawan
manager: annbe
ms.date: 03/01/2021
ms.topic: article
ms.prod: 
ms.service: dynamics-365-commerce
ms.technology: 

# optional metadata

# ms.search.form: 
audience: Developer
# ms.devlang: 
ms.reviewer: v-chgri
# ms.tgt_pltfrm: 
ms.custom: 
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: samjar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5

---
# Dynamics 365 Commerce online SDK FAQ

[!include [banner](../includes/banner.md)]
[!include [banner](../includes/preview-banner.md)]

This topic summarizes answers to questions frequently asked by users of the Dynamics 365 Commerce online software development kit (SDK).

### What is replacing TSLint since it's been deprecated in SDK version 1.28 (Commerce version 10.0.18 release)?

Due to the open source TSLint static analysis tool being deprecated, the Dynamics 365 Commerce online SDK is replacing it with the [ESLint](https://eslint.org/) static analysis tool. TSLint will continue to work until SDK version 1.30 (Commerce version 10.0.20 release). You can manually update to ESLint prior to SDK release 1.30 if desired, but updating will be enforced with SDK release 1.30. After updating to SDK version 1.28, running the **yarn** command will show a deprecation warning. You can switch to ESLint at any time after this, but it may cause new errors and warnings to be displayed on your custom code. If you retrieved the online SDK from GitHub with the Commerce 10.0.20 preview release, then it will contain the necessary changes to ESLint and no changes will be needed. Otherwise, if you are updating from an older version of the SDK, you will need to manually update to ESLint before SDK release 1.30. 

Follow the instructions below to manually update from TSLint to ESLint.

#### Replace TSLint with ESLint

Once you have [updated to SDK 1.28](sdk-updates.md) or later, you will need to create an ESLint file and change your **packages.json** file to include the ESLint dependencies and update the commands to use ESLint. You can leave the TSLint dependency in the **packages.json** file if you would like to use both. Once you update to ESLint, you may see new warnings against your code that can be fixed or ignored as needed.

##### Create a .eslintrc.js file

You will need to add a new file named **.eslintrc.js** to your root SDK folder (where you should also see an existing **tslint.json** file). The **.eslintrc.js** file will contain a base ruleset that can be extended.
 
The base configuration contains a set of core rules that are relaxed when it comes to linting restrictions. You may also choose to define your own ruleset or extend another ruleset.

To use the provided base ruleset, create the **.eslintrc.js** file and copy and paste in the following code:
 
```javascript
module.exports = {
    extends: '@msdyn365-commerce/eslint-config,
    ignorePatterns: ['.eslintrc.js', '*.html', 'src/__mocks__/**', 'src/__tests__/**'],
    parserOptions: {
        project: ['tsconfig.json'],
        sourceType: 'module',
        ecmaFeatures: {
            jsx: true // Allows for the parsing of JSX
        },
        tsconfigRootDir: __dirname
    }
};
```
 
Additional files and directories that you don't want lint rules applied to can be added to the **ignorePatterns** section. In addition, you can extend or replace rules by defining rules in the **.eslintrc.js** file.
 
For example, if you want to extend the base configuration to turn off the **header/header** rule (which requires a header on all files), you would use the following code in the config file:
 
```javascript
module.exports = {
    extends: '@msdyn365-commerce/eslint-config',
    ignorePatterns: ['.eslintrc.js', '*.html', 'src/__mocks__/**', 'src/__tests__/**'],
    parserOptions: {
        project: ['tsconfig.json'],
        sourceType: 'module',
        ecmaFeatures: {
            jsx: true // Allows for the parsing of JSX
        },
        tsconfigRootDir: __dirname
    },
    rules: {
        'header/header': 'off'
    }
};
```
You may also optionally want to override or declare new rules for certain types of files. To accomplish this, use the **overrides** property as shown below:

```javascript
    overrides: [
        {
            files: ['*.props.autogenerated.ts', '*.data.ts'],
            rules: {
                'header/header': 'off'
            }
        },
        {
            files: ['*.tsx', '*.view.tsx', '*.test.ts'],
            rules: {
                'max-len': 'off',
                'max-lines': 'off'
            }
        }
    ],
```

For more information and help, see the [ESLint documentation](https://eslint.org/docs/2.0.0/user-guide/configuring).

##### Update the package.json file
 
If you want to use both TSLint and ESLint, you can leave the TSLint dependency in your **package.json** file and add the following dependencies into the **devDependencies** section:
 
 ```json
        "@msdyn365-commerce/eslint-config": "^1.27.7",
        "@typescript-eslint/eslint-plugin": "^4.2.0",
        "@typescript-eslint/eslint-plugin-tslint": "^4.10.0",
        "@typescript-eslint/parser": "^4.10.0",
        "eslint": "^7.16.0",
        "eslint-config-prettier": "^7.0.0",
        "eslint-plugin-header": "^3.1.0",
        "eslint-plugin-import": "^2.22.1",
        "eslint-plugin-jsdoc": "^30.7.8",
        "eslint-plugin-no-null": "^1.0.2",
        "eslint-plugin-prettier": "^3.3.0",
        "eslint-plugin-react": "^7.21.5",
 ```
 
Then change the **lint** and **lint:fix** commands to:
```json
        "lint": "yarn eslint src/**/*.{ts,tsx}",
        "lint:fix": "yarn eslint src/**/*.{ts,tsx} --fix"
```
 
And finally, change the **build** and **start** commands to:
```json 
        "start": "yarn msdyn365b start local --use-eslint",
        "build": "yarn msdyn365b build --use-eslint",
```
 
#### Fix ESLint errors

It is optional but recommended to install the ESLint extension for Visual Studio Code. This will help identify errors and warnings directly in your editor and will allow you to use quick actions to ignore linting errors with comments.
 
You may see new ESLint errors since all the TSLint errors that were suppressed with TSLint comments are popping back up. The ESLint errors can be fixed or disabled and you may choose to ignore the warnings.

If you use `â€“use-eslint` flags in your code, builds will fail on errors but will ignore warnings.

#### Disable linting in code

You can fix TSLint errors by replacing TSLint disable comments with ESLint disable comments. You may use file find and replace functionality if that is easier but be sure to verify the results.

Helpful tips:
- Similar to TSLint, you can disable ESLint warnings by using comments.
- To disable the next line, use `// eslint-disable-next-line <rule1>, <rule2>...`.
- To add a comment explaining why you are disabling a rule, you must add "--" (for example,  `// eslint-disable-next-line <rule1> -- Disabling this rule for reasons`).
- To disable a rule for an entire file, you must use multiline comments (for example, `/* eslint-disable <rule1>, <rule2> */`). 

The following table lists common TSLint-ESLint equivalents.
TSLint rule	| ESLint rule
--- | --- |
// tslint:disable-next-line:no-any	| // eslint-disable-next-line @typescript-eslint/no-explicit-any
// tslint:disable:no-any	| /\* eslint-disable @typescript-eslint/no-explicit-any \*/
// tslint:disable-next-line:cyclomatic-complexity	| // eslint-disable-next-line complexity
// tslint:disable-next-line:no-empty	| // eslint-disable-next-line no-empty

#### Disable linting altogether during build time

If you want to disable linting altogether during build time, this can be done using the **--disable-linter** argument in the **package.json** build command as shown below:
```json 
        "build": "yarn msdyn365b build --disable-linter",
```

### After upgrading to module library version 9.27 (Commerce version 10.0.17 release), buy box module view extensions might generate a compilation error.

The compilation error is caused by code sharing that is related to the product quick view module that was introduced in the Commerce version 10.0.17 release. Because the quick view module shares lots of functionality with the buy box module, some common components were moved to a common folder, so that the buy box and quick view modules can share the code.

To fix the compilation error, update any import references in the buybox.tsx view file, as shown in the examples that follow.

This example shows the old code for imports in buybox.view.tsx.

```typescript
import { IBuyboxViewProps } from '../..';
import {
    IBuyboxAddToCartViewProps,
    IBuyboxAddToOrderTemplateViewProps,
    IBuyboxAddToWishlistViewProps,
    IBuyboxFindInStoreViewProps,
    IBuyboxKeyInPriceViewProps,
    IBuyboxProductConfigureDropdownViewProps,
    IBuyboxProductConfigureViewProps,
    IBuyboxProductQuantityViewProps,
    IBuyboxShopSimilarLookViewProps
} from './components';
```

This example shows the new code for imports in buybox.view.tsx.

```typescript
import { IBuyboxAddToCartViewProps, IBuyboxAddToOrderTemplateViewProps, IBuyboxAddToWishlistViewProps, IBuyboxKeyInPriceViewProps, IBuyboxProductConfigureDropdownViewProps, IBuyboxProductConfigureViewProps, IBuyboxProductQuantityViewProps, IBuyboxShopSimilarLookViewProps } from '../../common';
import { IBuyboxViewProps } from './buybox';
import { IBuyboxFindInStoreViewProps } from './components/buybox-find-in-store';
```

### After upgrading to module library version 9.24 (10.0.14 release), cloned modules that use data actions may display the error, "UserAuthorizationException. Customer account number on the request was wrong".

The following list of [core data actions](core-data-actions.md) have a signature change that moves the user account number parameter to the second parameter (instead of the first) and is now set as an optional parameter. In most scenarios where the user account number is no longer needed, the data action will execute in the context of the current signed-in user. In some custom scenarios where the user account number is different than the user account number of the signed-in user, you can fetch the user account number by using the **get-customer** data action and passing it to the data action.

Core data actions with signature changes include:
 
- **add-address**
- **get-address**
- **get-customer**
- **get-loyalty-card**
- **get-loyalty-transaction-estimation**
- **issue-loyalty**

The module library modules have been updated with the correct calling pattern to the above data actions, so you won't receive any errors in these modules. However, if one of the modules was previously [cloned](clone-starter-module.md) it will still have the older data action signature and display this error at runtime, "UserAuthorizationException. Customer account number on the request was wrong". The signatures will need to be updated accordingly. One way to resolve this issue is to temporarily clone the module library module again with a new name, then differentiate the new module code with the previously cloned custom module and merge the changes. The temporary module can then be deleted.

### After upgrading to module library version 9.23 (10.0.13 release), cloned modules or view extensions that import "CartlineComponent" or "WishListIconComponent" components may display the errors "export 'CartlineComponent' was not found in '@msdyn365-commerce/components'" or "export 'WishListIconComponent' was not found in '@msdyn365-commerce/components'".

The "CartlineComponent" and "WishListIconComponent" components have been renamed to "CartLineItemComponent" and "WishlistIconComponent" respectively. If the previous component names are used in either a cloned module or a view extension, the build errors mentioned above will be displayed. To fix these issues, update the previous component names to the new component names in the cloned module or view extension code.

## Additional resources

[Core data actions](core-data-actions.md)

[Clone a module library module](clone-starter-module.md)

[Best practices for Dynamics 365 Commerce development](best-practices-dev.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
