---
# required metadata

title: Email ER destination type
description: This topic provides information about how to configure an email destination for each FOLDER or FILE component of an Electronic reporting (ER) format that is configured to generate outbound documents.
author: NickSelin
manager: AnnBe
ms.date: 01/27/2020
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 

# optional metadata

ms.search.form: DocuType, ERSolutionTable, ERFormatDestinationTable
# ROBOTS: 
audience: Application User
# ms.devlang: 
ms.reviewer: kfend
ms.search.scope: Core, Operations
# ms.tgt_pltfrm: 
ms.custom: 97423
ms.assetid: 
ms.search.region: Global
# ms.search.industry: 
ms.author: nselin
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1

---

# Email destination

[!include [banner](../includes/banner.md)]

When an Electronic reporting (ER) format is executed, one or many outbound documents can be generated. As **FOLDER** or **FILE** format components are used in ER formats to specify the structure of outbound documents, you can configure an email destination for these types of components of an ER format to send out outbound documents over emails as attachments.

You can configure an email destination for each **FOLDER** or **FILE** component of an ER format. In this case **each outbound document is emailed individually**. Based on this destination setting, a generated document is delivered as an attachment of an electronic mail.

> [!NOTE]
> If a documents is not generated as the **Enabled** expression for the relevant **FILE** component has been configured as returning the **FALSE** value, an email is not sent out.

Alternatively, you can [group](#grouping) several **FOLDER** or **FILE** components to configure an email destination for this group of components. In this case all outbound documents that are generated by components that belong to this group **are sent out as several attachments of a single email**. Based on this destination setting, each generated document is delivered as an attachment of a single electronic mail.

> [!NOTE]
> If at least one document is generated by a **FILE** component of a group of components, an email is sent out. If none of documents are generated by grouped components as the **Enabled** expression for each **FILE** component has been configured as returning the **FALSE** value, an email is not sent out.

> [!NOTE]
> Be aware that the only email destination can be configured for a group of components. If you want to delivery a document that is emailed based on the email destination setting for a group, add one more destination record selecting the desire component and configure another destination for this record.

Multiple groups of components can be configured for a single ER format configurations allowing to configure an email destination for every group of components along with an email destination for every single component.

## Configure an email destination

For a selected component or a selected group of components, on the **Destination settings** dialog, in the **Email** section, set **Enabled** to **Yes** to send an output file or several output files by email. After this option is enabled, you can specify the email recipients and edit the subject and body of the email message. You can set up constant texts for the email subject and body, or you can use ER [formulas](er-formula-language.md) to dynamically create email texts.

You can configure email addresses for ER in two ways. The configuration can be completed in the same way that the Print management feature completes it, or you can resolve an email address by using a direct reference to the ER configuration through a formula.

[![Enable email destination](./media/ER_Destinations-EnableSingleDestination.png)](./media/ER_Destinations-EnableSingleDestination.png)

## Email address types

When you select **Edit** in the **To** or **Cc** fields, the **Email to** dialog box appears. You can then select the type of email address to use. The **Configuration email** and **Print Management** email types are currently supported.

[![Select email type](./media/ER_Destinations-EmailSelectAddressType.png)](./media/ER_Destinations-EmailSelectAddressType.png)

### Print management

If you select the **Print Management** email type, you can enter fixed email addresses in the **To** field. 

[![Configure fixed email addresses](./media/ER_Destinations-EmailFixedAddress.png)](./media/ER_Destinations-EmailFixedAddress.png)

To use email addresses that aren't fixed, you must select the email source type for a file destination. The following values
are supported: **Customer**, **Vendor**, **Prospect**, **Contact**, **Competitor**, **Worker**, **Applicant**, **Prospective vendor**, and **Disallowed vendor**. After you select an email source type, use the button next to the **Email source account** field to open the **Formula designer** form. You can use this form to attach a formula that returns at runtime, the **party account** of the selected source type from the processed document to the email destination.

[![Configure email source account](./media/ER_Destinations-EmailDefineAddressSource.png)](./media/ER_Destinations-EmailDefineAddressSource.png)

Formulas are specific to the ER configuration. In the **Formula** field, enter a document-specific reference to a customer or vendor party type. Instead of typing, you can find the data source node that represents the customer or vendor account, and then select **Add data source** to update the formula. For example, if you use the **ISO 20022 Credit Transfer** configuration, the node that represents a vendor account is `'\$PaymentsForCoveringLetter'.Creditor.Identification.SourceID`.

If you enter a string value, such as `"DE-001"`, and save a formula, an email will be sent to the contact person of the vendor, **DE-001**.

[![ER formula designer page](./media/ER_Destinations-EmailDefineAddressSourceFormula.png)](./media/ER_Destinations-EmailDefineAddressSourceFormula.png)

[![Configure email source attributes account](./media/ER_Destinations-EmailDefineAddressSourceAttributes.png)](./media/ER_Destinations-EmailDefineAddressSourceAttributes.png)

### Configuration email

Use this email type if the configuration that you use has a node in the data sources that returns an **email address**. You can use data sources and functions in the formula designer to get a correctly formatted email address. For example, if you use the **ISO 20022 Credit Transfer** configuration, the node that represents an email address of a vendor's contact person is `'$PaymentsForCoveringLetter'.Creditor.ContactDetails.Email`.

[![Configure email address source](./media/ER_Destinations-EmailDefineAddressSource2.png)](./media/ER_Destinations-EmailDefineAddressSource2.png)

## <a name="grouping">Group format components</a>

To group format components, select the desire components in the grid of the **File destination** Fast Tab and select the **Group** option.

> Be aware that any previously configured for selected components destinations except the **Email** one are disabled as non-supportable for a group of components. When it is applicable, you will be notified about that by the appropriate warning in user infolog.

> The earlier added record is considered as a header of the created group. This record will hold an email destination settings for this group. Other records are considered as group members that will use an email destination settings of a header record of this group.

To ungroup format components, select a record that belongs to a group in the grid of the **File destination** Fast Tab and select the **Ungroup** option.

- When a header record has been selected, the whole group will be demounted.
- When a member record has been selected and this record is the last member record in a group, the whole group will be demounted.
- When a member record has been selected and this record is not the last member record in a group, the record will be excluded from the current group.

The following illustration shows the structure of an ER format that was configured to produce a zipped outbound file containing a collection letter note along with appropriate customer invoices in PDF format.

[![Show the structure of an ER format to generate outbound documents](./media/ER_Destinations-Email-Grouping1.png)](./media/ER_Destinations-Email-Grouping1.png)

The following illustration shows the process of grouping of individual components and enabling the **Email** destination for the created group to send out a collection letter note along with appropriate customer invoices as attachments of a single electronic mail.

[![Show how to group invividual components](./media/ER_Destinations-Email-Grouping2.gif)](./media/ER_Destinations-Email-Grouping2.gif)

## Additional resources

- [Electronic reporting (ER) overview](general-electronic-reporting.md)
- [Electronic reporting (ER) destinations](electronic-reporting-destinations.md)
- [Formula designer in Electronic reporting (ER)](general-electronic-reporting-formula-designer.md)
